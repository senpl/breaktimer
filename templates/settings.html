<!doctype html>
<html data-ng-app="BreakTime" data-ng-csp="">
  <head>
    <meta charset="UTF-8">
    <title>Break Timer - Settings</title>
    <link rel="stylesheet" href="../css/bootstrap.min.css">
    <link rel="stylesheet" href="../css/main.css">
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:700,400' rel='stylesheet' type='text/css'>
  </head>
  <body class="settings">
    <div class="container">
      <div data-ng-controller="SettingsCtrl" id="settings-ctrl">
        <style>
body {
  background: {{ config.backgroundColor }};
  color: {{ config.textColor }};
}
        </style>
        <div class="alert alert-info save-alert" ng-show="showSaveConfirm">
          Changes saved successfully
        </div>
        <h1>Break Timer - Settings</h1>
        <form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top" id="donate">
          <input type="hidden" name="cmd" value="_s-xclick">
          <input type="hidden" name="encrypted" value="-----BEGIN PKCS7-----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-----END PKCS7-----
          ">
          <input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_donateCC_LG.gif" border="0" name="submit" alt="PayPal - The safer, easier way to pay online!">
          <img alt="" border="0" src="https://www.paypalobjects.com/en_US/i/scr/pixel.gif" width="1" height="1">
        </form>
        <div class="spacer"></div>
        <form name="settingsForm" ng-submit="save()">
          <div class="row">
            <div class="col-md-12">
              <div class="form-group">
                <label for="break-frequency">Notify me with</label>
                <select
                  class="form-control"
                  ng-options="item as item.name for item in notifTypes track by item.id"
                  ng-model="selected"
                  ng-change="selectNotifType()"
                  ></select>
              </div>
            </div>
            <div class="col-md-6">
              <h3>Break Settings</h3>
              <div class="form-group">
                <label for="break-frequency">Break frequency</label>
                <input type="number" id="break-frequency" class="form-control min-input"
                                                          ng-model="config.frequency" required/> <span>minutes</span>
              </div>
              <div class="form-group" ng-show="config.notificationType === 'F'">
                <label for="break-length">Break length</label>
                <input type="number" id="break-length" class="form-control min-input"
                                                       ng-model="config.length" required/> <span>seconds</span>
              </div>
              <div class="form-group" ng-show="config.notificationType === 'F' && !isFirefox">
                <label for="postpone-length">Postpone length</label>
                <input type="number" id="postpone-length" class="form-control min-input"
                                                          ng-model="config.postpone" required/> <span>minutes</span>
              </div>
              <div class="form-group">
                <label for="gong-sound">Play Gong Sound</label>
                <input type="checkbox" id="gong-sound"
                                       class="form-control checkbox" ng-model="config.gongEnabled"/>
              </div>
              <div class="form-group" ng-show="config.notificationType === 'F' && !isFirefox">
                <label for="allow-skip-postpone-break">Allow Skip Break</label>
                <input type="checkbox" id="allow-skip-postpone-break"
                                       class="form-control checkbox" ng-model="config.allowSkipBreak"/>
              </div>
              <div class="form-group" ng-show="config.notificationType === 'F' && !isFirefox">
                <label for="allow-skip-postpone-break">Allow Postpone Break</label>
                <input type="checkbox" id="allow-skip-postpone-break"
                                       class="form-control checkbox" ng-model="config.allowPostponeBreak"/>
              </div>
              <div class="form-group" ng-show="config.notificationType === 'F'">
                <label for="allow-end-break">Allow End Break</label>
                <input type="checkbox" id="allow-end-break"
                                       class="form-control checkbox" ng-model="config.allowEndBreak"/>
              </div>
            </div>
            <div class="col-md-6">
              <h3>Customization</h3>
              <div class="form-group">
                <label for="background-color">Background Color</label>
                <input type="text" id="background-color" class="form-control"
                                                         ng-model="config.backgroundColor"/>
                <input type="color" ng-model="config.backgroundColor"/>
              </div>
              <div class="form-group">
                <label for="text-color">Text Color</label>
                <input type="text" id="text-color" class="form-control"
                                                   ng-model="config.textColor"/>
                <input type="color" ng-model="config.textColor"/>
              </div>
              <div class="form-group">
                <label for="break-text">Break Title</label>
                <input type="text" id="break-text" class="form-control"
                                                   ng-model="config.breakText"/>
              </div>
              <div class="form-group">
                <label for="break-message">Break Message</label>
                <input type="text" id="break-message" class="form-control"
                                                      ng-model="config.breakMessage"/>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-md-6">
              <h3>Working Hours</h3>
              <div class="form-group">
                <label for="working-hours-enabled">Enable working hours</label>
                <input type="checkbox" id="working-hours-enabled"
                                       class="form-control checkbox" ng-model="config.workingHoursEnabled"/>
              </div>
              <div class="form-group" ng-show="config.workingHoursEnabled" ng-class="{ 'has-error' : !checkOrder() }">
                <label for="breaks-from">Breaks from</label>
                <input type="time" id="breaks-from" class="form-control time-input"
                                                    ng-model="workingHoursFrom" ng-change="workingHoursFromChanged()"
                                                                                required/>
              </div>
              <div class="form-group" ng-show="config.workingHoursEnabled" ng-class="{ 'has-error' : !checkOrder() }">
                <label for="breaks-to">Breaks to</label>
                <input type="time" id="breaks-to" class="form-control time-input"
                                                  ng-model="workingHoursTo" ng-change="workingHoursToChanged()"
                                                                            ng-valid="workingHoursTo > workingHoursFrom" required/>
                <span class="help-block" ng-show='!checkOrder()'>Breaks from must be earlier than breaks to</span>
              </div>
              <div class="form-group" ng-show="config.workingHoursEnabled">
                <label>Breaks on</label>
                <div class="day-input" ng-repeat="day in config.workingHoursDays">
                  <input type="checkbox" id="breaks-on-{{ day.name }}" class="form-control checkbox" ng-model="day.enabled" />
                  <label for="breaks-on-{{ day.name }}">{{ day.name }}</label>
                </div>
              </div>
            </div>
            <div class="col-md-6">
              <h3>Idle Reset</h3>
              <div class="form-group">
                <label for="idle-reset-enabled">Reset countdown after being idle</label>
                <input type="checkbox" id="idle-reset-enabled"
                                       class="form-control checkbox" ng-model="config.idleResetEnabled"/>
              </div>
              <div class="form-group" ng-show="config.idleResetEnabled">
                <label for="idle-reset-minutes">Reset countdown when idle for</label>
                <input type="number" id="idle-reset-minutes" class="form-control min-input"
                                                             ng-model="config.idleResetMinutes"/> <span>minutes</span>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="spacer"></div>
            <div class="col-md-12">
              <input class="btn btn-primary" type="submit" value="Save" ng-disabled="!settingsForm.$valid || !checkOrder()"/>
            </div>
          </div>
          <div class="spacer"></div>
        </form>
      </div>
    </div>
    <script src="../js/vendor/angular.min.js"></script>
    <script src="../js/vendor/angular-ui.js"></script>
    <script src="../js/vendor/moment.min.js"></script>
    <script src="../js/vendor/countdown.min.js"></script>
    <script src="../js/vendor/moment-countdown.min.js"></script>
    <script src="../js/app.js"></script>
  </body>
</html>
